# AerotwineX 專案大綱

## 視覺化指標 
    以下符號用於標記各項工作的狀態：
 - ✅ 已完成
 - 🔄 進行中 
 - ⏳ 待處理 
 - ❌ 暫不處理

## 專案筆記

## 主要獲得航空公司來源
中華航空、長榮航空、華信航空、立榮航空、星宇航空、德安航空、日本航空、國泰航空、韓亞航空

### 初步想法
- 整合台灣國內、離島及國際直飛航班資料
- 提供顧客友好的查詢與服務體驗
- 確保資料完整性，避免顧客因資料缺失而無法找到所需信息
- 提供實時更新的航班狀態及預測服務

### 待辦事項
- 🔄確定各航空公司資料爬取策略
- 🔄評估可使用的免費航班API
- 🔄設計資料庫結構與關聯
- 🔄制定前後端開發計劃

## 功能設計筆記

### 1. 查詢飛機航班

#### 設計想法
- 支持多樣化的查詢條件（日期、航空公司、機場等）
- 處理不同航空公司的時區問題
- 支持實時獲取航班狀態更新
- 提供篩選和排序功能（價格、時間、航空公司等）
- 整合多家航空公司API或直接爬取官網資料

#### 待辦事項
- 🔄完成Flights, Airports, Airlines表設計
- ⏳確定資料更新頻率和策略
- ⏳研究航班API及爬蟲方案
- ⏳設計查詢界面原型
- ⏳測試資料同步機制

### 2. 購買機票功能

#### 設計想法
- 與航空公司官網整合或直接導向官網，讓客人清楚哪間公司提供優惠折價優惠、活動
- 追蹤預訂狀態和記錄
- 提供哩程計算功能
- 整合保險選項
- 支持多種支付方式

#### 待辦事項
- ⏳設計Tickets和Bookings表
- ⏳考慮與支付系統的整合方案
- ⏳研究各航空公司訂票API可行性
- ⏳設計訂票流程和界面
- ⏳測試訂單追蹤功能

### 3. 同步 LINE 機器人

#### 設計想法
- 提供即時航班狀態查詢功能
- 支持訂閱航班更新通知
- 整合登機提醒功能
- 提供簡易訂票指引
- 支持常見問題自動回答

#### 待辦事項
- ⏳設計LINE Bot互動流程
- ⏳設計Linebot_Interactions和Linebot_Users表
- ⏳研究LINE Messaging API整合方案
- ⏳開發常用對話模板
- ⏳測試通知機制

### 4. 社群平台

#### 設計想法
- 用戶可分享航班體驗和評分
- 提供航空公司和機場評價功能
- 支持用戶發布旅行建議和問答
- 實現帖子分類和搜索功能
- 設計評論和回复機制

#### 待辦事項
- ⏳設計Community_Posts, Ratings和Comments表
- ⏳開發發帖和評論功能
- ⏳設計評分系統和顯示邏輯
- ⏳考慮內容審核機制
- ⏳設計社群首頁和個人中心

### 5. 預測航班起降狀態

#### 設計想法
- 基於歷史數據預測航班延誤
- 整合天氣數據增加預測準確性
- 提供延誤可能性百分比
- 設計易理解的視覺化展示
- 考慮季節性因素的影響

#### 待辦事項
- ⏳設計Predictions和Weather_Data表
- ⏳研究可用的天氣API和歷史航班數據
- ⏳開發簡易預測算法原型
- ⏳測試預測準確率
- ⏳設計預測結果展示方式

### 6. 導覽地圖

#### 設計想法
- 提供主要機場的交互式地圖
- 標記關鍵設施（登機口、餐廳、洗手間等）
- 支持定位和路線規劃
- 整合航廈和樓層信息
- 考慮無障礙設施標示

#### 待辦事項
- ⏳設計Airport_Maps和Map_Locations表
- ⏳收集主要機場地圖資料
- ⏳研究地圖展示技術方案
- ⏳開發地圖交互功能
- ⏳測試不同設備上的地圖體驗

### 7. 會員表

#### 設計想法
- 實現安全的註冊和登錄功能
- 設計會員等級和權益體系
- 支持個人資料管理和偏好設置
- 實現哩程累積和使用機制
- 提供訂單歷史和航班收藏功能

#### 待辦事項
- ⏳設計Users, Memberships和Mileage表
- ⏳實現密碼加密和安全驗證
- ⏳開發會員中心功能
- ⏳設計哩程計算邏輯
- ⏳測試用戶註冊和登錄流程

### 8. 後台表

#### 設計想法
- 建立完善的權限控制系統
- 提供數據分析和報表功能
- 支持系統參數配置
- 設計內容管理和審核界面
- 實現日誌記錄和異常監控

#### 待辦事項
- ⏳設計Admins, Roles, Permissions相關表
- ⏳開發權限控制機制
- ⏳設計後台界面框架
- ⏳實現基礎數據統計功能
- ⏳測試系統配置和參數管理

## 技術實現筆記

### 資料來源策略
- 優先使用免費API如Aviation Edge, FlightStats
- 針對無API的航空公司使用爬蟲獲取數據
- 考慮使用台灣桃園機場公開API
- 整合氣象數據用於航班預測

### 爬蟲實現思路
- 使用Python requests和BeautifulSoup
- 處理反爬機制（隨機延遲、UA輪換）
- 設計定時任務自動更新數據
- 針對動態內容使用Selenium

### API整合計劃
- LINE Messaging API: 實現聊天機器人
- 支付API: 整合多種支付方式
- 地圖API: 實現機場導覽
- 天氣API: 支持航班預測

### 數據同步機制
- 使用Celery實現定時爬取任務
- 設計增量更新機制減少資源消耗
- 實現數據版本控制和回滾機制
- 考慮緩存策略提高查詢效率

### 安全性考慮
- 實現完善的密碼加密和存儲
- 防止SQL注入和XSS攻擊
- 設計操作審計和日誌機制
- 實現敏感數據脫敏策略